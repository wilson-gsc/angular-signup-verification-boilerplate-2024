import{a as d,b as s}from"./chunk-6YFZBJY7.js";import{e as u,h as l,k as o,m as i}from"./chunk-G6OFTRNW.js";function T(t){return()=>new Promise(a=>{t.refreshToken().subscribe().add(a)})}var v=(()=>{class t{constructor(r){this.accountService=r}intercept(r,n){return n.handle(r).pipe(l(e=>{[401,403].includes(e.status)&&this.accountService.accountValue&&this.accountService.logout();let c=e&&e.error&&e.error.message||e.statusText;return console.error(e),u(c)}))}static{this.\u0275fac=function(n){return new(n||t)(i(s))}}static{this.\u0275prov=o({token:t,factory:t.\u0275fac})}}return t})();var P=(()=>{class t{constructor(r){this.accountService=r}intercept(r,n){let e=this.accountService.accountValue,c=e&&e.jwtToken,p=r.url.startsWith(d.apiUrl);return c&&p&&(r=r.clone({setHeaders:{Authorization:`Bearer ${e.jwtToken}`}})),n.handle(r)}static{this.\u0275fac=function(n){return new(n||t)(i(s))}}static{this.\u0275prov=o({token:t,factory:t.\u0275fac})}}return t})();function D(t,a){return r=>{let n=r.controls[t],e=r.controls[a];e.errors&&!e.errors.mustMatch||(n.value!==e.value?e.setErrors({mustMatch:!0}):e.setErrors(null))}}var h="angular-19-boilerplate-accounts",b=JSON.parse(localStorage.getItem(h)??"[]"),k="departments",U=JSON.parse(localStorage.getItem(k)??"[]"),g="employees",C=JSON.parse(localStorage.getItem(g)??"[]"),w="workflows",R=JSON.parse(localStorage.getItem(w)??"[]");export{T as a,v as b,P as c,D as d};
